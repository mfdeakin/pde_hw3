Find the first order and second order weak derivatives for the following function $u: \reals \rightarrow \reals$, if exists:

\begin{enumerate}
\item
  $$
  u(x) =
  \begin{cases}
    1 - |x| & |x| \leq 1\\
    0 & |x| > 1
  \end{cases}
  $$

  The first order weak derivative is
  $$
  Du(x) =
  \begin{cases}
    1 & -1 < x < 0\\
    -1 & 0 < x < 1\\
    0 & \text{otherwise}
  \end{cases}
  $$
  The second order weak derivative doesn't exist, as it's not continuous (see problem 10a).
  We can prove this by working backwards and using the uniqueness of the weak derivative to prove our claim.
  We need to show that $\int_\reals Du \phi \dx = -\int_\reals u \phi' \dx$ for any $\phi \in C_C^\infty(\reals)$.
  To do so, we simply note that $\deriv{}{x}(1 + x) = 1$ and $\deriv{}{x}(1 - x) = -1$,
  which is nice since we need these to be $0$ at the $-1$ and $1$, respectively, while having the same value at $0$.
  Then integrating by parts results in:
  \begin{align*}
    \int Du(x) \phi(x) = &\int_{-1}^0 \phi(x) \dx - \int_0^1 \phi(x) \dx\\
                       = &\phi(x) (1 + x) \bigg\rvert_{x=-1}^{0} - \int_{-1}^0 (1 + x) \phi'(x)
                          + \phi(x) (1 - x) \bigg\rvert_{x=0}^{1} - \int_0^1 (1 - x) \phi'(x) \dx\\
                       = &\phi(0) - \int_{-1}^0 (1 + x) \phi'(x) - \phi(0) - \int_0^1 (1 - x) \phi'(x) \dx\\
                       = &-\int_{-1}^0 (1 + x) \phi'(x) - \int_0^1 (1 - x) \phi'(x) \dx
                       = -\int_{-1}^0 (1 - |x|) \phi'(x) - \int_0^1 (1 - |x|) \phi'(x) \dx\\
                       = &-\int_{-1}^1 (1 - |x|) \phi'(x)
  \end{align*}

  Thus, $Du$ is the weak derivative of $u$.
  The second order weak derivative does not exist, since $Du(x)$ is discontinuous at $x = 0$ and $x = \pm 1$; see problem 10a.

\item
  $$
  u(x) = |\sin(x)|
  $$

  First we rewrite this in cases:
  $$
  u(x) =
  \begin{cases}
    \sin(x) & 2 k \pi < x < (2 k + 1) \pi\\
    -\sin(x) & (2 k + 1) \pi < x < (2 k + 2) \pi
  \end{cases}
  $$

  Then the first order weak derivative is
  $$
  Du(x) =
  \begin{cases}
    \cos(x) & 2 k \pi < x < (2 k + 1) \pi\\
    -\cos(x) & (2 k + 1) \pi < x < (2 k + 2) \pi
  \end{cases}
  $$

  We check by integrating by parts over all of the subintervals:
  \begin{align*}
    \int_\reals |\sin(x)| \phi'(x) \dx
      = &\sum_{k=-\infty}^\infty \int_{2 k \pi}^{(2 k + 1) \pi} \sin(x) \phi'(x) \dx
         + \int_{(2 k + 1) \pi}^{(2 k + 2) \pi} -\sin(x) \phi'(x) \dx\\
      = &\sum_{k=-\infty}^\infty \sin((2 k + 1) \pi) \phi((2 k + 1) \pi) - \sin(2 k \pi) \phi(2 k \pi)\\
         &- \int_{2 k \pi}^{(2 k + 1) \pi} \cos(x) \phi(x) \dx\\
         &- \sin((2 k + 2) \pi) \phi((2 k + 2) \pi) + \sin((2 k + 1) \pi) \phi((2 k + 1) \pi)\\
         &+ \int_{(2 k + 1) \pi}^{(2 k + 2) \pi} \cos(x) \phi(x) \dx\\
      = &\sum_{k=-\infty}^\infty -\int_{2 k \pi}^{(2 k + 1) \pi} \cos(x) \phi(x) \dx
          + \int_{(2 k + 1) \pi}^{(2 k + 2) \pi} \cos(x) \phi(x) \dx\\
      = &\sum_{k=-\infty}^\infty -\int_{2 k \pi}^{(2 k + 1) \pi} \cos(x) \phi(x) \dx
          - \int_{(2 k + 1) \pi}^{(2 k + 2) \pi} -\cos(x) \phi(x) \dx\\
      = &\int_\reals Du \phi(x) \dx
  \end{align*}
  proving our claim.

  $Du(x)$ is discontinuous at every $x = 2 k \pi$, so the second order weak derivative does not exist.
\end{enumerate}
